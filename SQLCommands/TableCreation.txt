CREATE TABLE "Author" (
"Auth_Id" INTEGER NOT NULL,
FOREIGN KEY("Auth_Id")
REFERENCES "Person"("Id"),
PRIMARY KEY("Auth_Id") );

CREATE TABLE "Book" ( "ISBN"
TEXT NOT NULL, "Title" TEXT
NOT NULL, "Price" REAL NOT
NULL, "Year" INTEGER NOT NULL,
"Category" TEXT NOT NULL,
"Pub_Id" INTEGER NOT NULL,
PRIMARY KEY("ISBN") );

CREATE TABLE "Books" ( "ISBN"
TEXT NOT NULL, "Order_No"
INTEGER NOT NULL, "Quantity"
INTEGER NOT NULL, PRIMARY
KEY("ISBN","Order_No"),
FOREIGN KEY("ISBN") REFERENCES
"Book"("ISBN"), FOREIGN
KEY("Order_No") REFERENCES
"Purchase"("Order_No") );

CREATE TABLE "Bookstore" (
"Store_Id" INTEGER NOT NULL,
"Store_Loc" TEXT NOT NULL,
PRIMARY KEY("Store_Id"
AUTOINCREMENT) );

CREATE TABLE "Customer" (
"Cust_Id" INTEGER NOT NULL,
"Phone_no" INTEGER NOT NULL,
FOREIGN KEY("Cust_Id")
REFERENCES "Person"("Id"),
PRIMARY KEY("Cust_Id"
AUTOINCREMENT) );

CREATE TABLE "Membership" (
"Mem_Id" INTEGER NOT NULL,
"Email" TEXT NOT NULL,
"Password" TEXT NOT NULL,
FOREIGN KEY("Mem_Id")
REFERENCES "Person"("Id"),
PRIMARY KEY("Mem_Id") );

CREATE TABLE "Person" ( "Id"
INTEGER NOT NULL, "First_Name"
TEXT NOT NULL, "Middle_Name"
TEXT, "Last_Name" TEXT NOT
NULL, PRIMARY KEY("Id"
AUTOINCREMENT) );

CREATE TABLE "Publisher" (
"Pub_Id" INTEGER NOT NULL,
"Pub_Name" TEXT NOT NULL,
PRIMARY KEY("Pub_Id"
AUTOINCREMENT) );

CREATE TABLE "Purchase" (
"Cust_Id" INTEGER NOT NULL,
"Price" REAL NOT NULL, "Date"
INTEGER NOT NULL, "Order_No"
INTEGER NOT NULL, "Store_No"
INTEGER NOT NULL, PRIMARY
KEY("Order_No" AUTOINCREMENT),
FOREIGN KEY("Store_No")
REFERENCES
"Bookstore"("Store_Id") );

CREATE TABLE "Stores" (
"Quantity" INTEGER NOT NULL,
"Store_Id" INTEGER NOT NULL,
"ISBN" TEXT NOT NULL, FOREIGN
KEY("ISBN") REFERENCES
"Book"("ISBN"), FOREIGN
KEY("Store_Id") REFERENCES
"Bookstore"("Store_Id"),
PRIMARY KEY("Store_Id","ISBN") );

CREATE TABLE "Writes" (
"Auth_Id" INTEGER NOT NULL,
"ISBN" TEXT NOT NULL, FOREIGN
KEY("ISBN") REFERENCES
"Book"("ISBN"), PRIMARY
KEY("Auth_Id","ISBN"), FOREIGN
KEY("Auth_Id") REFERENCES
"Author"("Auth_Id") );